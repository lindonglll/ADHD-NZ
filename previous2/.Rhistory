library(haven)
library(tidyverse)
library(questionr)
datRaw <- read_spss("ISSP2023_FINAL.sav")
#Fetch the names of dataset
fullName <- sapply(names(datRaw),
function(x) attr(datRaw %>% pull(x), "label"))
abb <- names(fullName)
##########################################################################
fullNameForSelect <- as.character(fullName)
fullNameForSelect <- fullNameForSelect[2:61]
#Remove all the questions from the "other" options ####
fullNameForSelect <-
fullNameForSelect[!grepl("x\\. ", fullNameForSelect)]
# Create a temp dataframe for plot only #####################################
dat <- datRaw %>%
select(wgt3, gendercat, agegroup) %>%
as.data.frame()
dat$Gender <- dat$Age <- character(nrow(dat))
dat$Gender <- as_factor( dat$gendercat)
dat$Age <- as_factor( dat$agegroup)
dat$wgt <-  dat$wgt3
library(shiny); runApp('app (2).R')
runApp('app (2).R')
runApp('app.R')
